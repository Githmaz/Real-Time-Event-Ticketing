<div class="flex items-center md:order-2 space-x-3 md:space-x-0 rtl:space-x-reverse">
  <!-- User Profile Button -->
  <button type="button" 
    class="flex text-sm bg-gray-800 rounded-full md:me-0 focus:ring-4 focus:ring-gray-300 dark:focus:ring-gray-600"
    id="user-menu-button" aria-expanded="false" data-dropdown-toggle="user-dropdown" data-dropdown-placement="bottom">
    <span class="sr-only">Open user menu</span>
    <img class="w-8 h-8 rounded-full" src="assets/img/defaultProfileImg.jpg" alt="user"
    (click)="toggleDropdown()">
  </button>

  <!-- Dropdown menu -->
  <div class="z-5000 hidden my-4 text-base list-none bg-white divide-y divide-gray-100 rounded-lg shadow dark:bg-gray-700 dark:divide-gray-600" id="user-dropdown">
    <!-- User Info -->
    <div class="px-4 py-3">
      <span class="block text-sm text-gray-900 dark:text-white">{{ user?.name || 'Guest' }}</span>
      <span class="block text-sm text-gray-500 truncate dark:text-gray-400">{{ user?.email || '' }}</span>
    </div>

    <!-- Links -->
    <ul class="py-2" aria-labelledby="user-menu-button">
      <li>
        <a href="#" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 dark:text-gray-200 dark:hover:text-white"  routerLink="/dashboard">Dashboard</a>
      </li>
      <li>
        <a href="#" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 dark:text-gray-200 dark:hover:text-white"  routerLink="/dashboard" >Settings</a>
      </li>
  
      <!-- Dark Mode Toggle -->
      <li class="flex items-center px-4 py-2">
        <label for="dark-mode-toggle" class="block text-sm text-gray-700 dark:text-gray-200">Dark Mode</label>
        <input 
          id="dark-mode-toggle" 
          type="checkbox" 
          class="ml-2 w-4 h-4 text-primary-600 bg-gray-100 rounded border-gray-300 focus:ring-primary-500 dark:focus:ring-primary-600 dark:bg-gray-700 dark:border-gray-600"
          (change)="toggleDarkMode($event)"
          [checked]="isDarkMode"
        >
      </li>
      @if(this.isLogIn){
        <li>
          <a  class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 dark:text-gray-200 dark:hover:text-white" (click)="logout()">Log out</a>
        </li>
      }@else{
        <li>
          <a  class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 dark:text-gray-200 dark:hover:text-white" routerLink="/login" >Log in</a>
        </li>
        <li>
          <a  class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 dark:text-gray-200 dark:hover:text-white" routerLink="/register" >Register</a>
        </li>
      }
    </ul>
  </div>
</div>
